<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/assets/style.css">
    </link>
    <title>Enjoy Coding</title>
</head>

<body>
    <div align="left" id="all">
        <div align="left" id="all"  data-tauri-drag-region>
            <button id="ignore-click">
                <img src="/assets/pin.svg" class="pin" />
            </button>
        </div>
        <div id="lyric" class="lyric" data-tauri-drag-region>
            <p>Enjoy Coding with Music!</p>
        </div>
    </div>
    <script>
        const { invoke } = window.__TAURI__.tauri;
        const { emit } = window.__TAURI__.event;
        // set a timer to update lyrics every 100ms
        setInterval(() => {
            invoke("updata_playing_info", {})
                .then((resp) => {
                    document.getElementById("lyric").innerHTML = resp;
                })
        }, 10);

        // listen to window resize
        window.addEventListener("resize", () => {
            emit("window_resized", {})
        });
        window.addEventListener("drag", () => {
            emit("window_dragged", {})
        });
    </script>
</body>

</html>